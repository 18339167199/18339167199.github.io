<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Joyoshare 2020 Xmas Party - Get Free Gifts Every Day</title>
  <link rel="stylesheet" href="../../assets/bootstrap-3.3.7-dist/css/bootstrap.min.css">
  <link rel="stylesheet" href="style.css?v=16ffee14">
  <link rel="shortcut icon" href="../../assets/images/joyoshare.ico">
</head>

<body class="jw-static-header">
  <!-- Special Banner BEGIN -->
  <div class="special-fullbanner" id="sonw">
    <div class="banner">
      <picture>
        <img src="./images/banner/banner-2.png" alt="2020 Xmas sales" width="927" height="775">
      </picture>
    </div>
    <div class="nav">
      <div class="container">
        <div class="row">
          <div class="col-lg-4 col-md-4">
            <a href="#sprd-1" class="shake">
              <div class="img">
                <img src="./images/nav/bell.png" width="198" height="139" alt="Free Christmas Gifts">
              </div>
              <p>Free Christmas Gifts</p>
            </a>
          </div>
          <div class="col-lg-4 col-md-4">
            <a href="#sprd-2" class="reversal">
              <div class="img">
                <img src="./images/nav/cookie.png" width="171" height="137" alt="5-in-1 Bundle of New VidiKit">
              </div>
              <p>5-in-1 Bundle & New VidiKit</p>
            </a>
          </div>
          <div class="col-lg-4 col-md-4">
            <a href="#sprd-3" class="translateY">
              <div class="img">
                <img class="lazyload"  src="./images/nav/stick.png" width="144"
                  height="146" alt="Hot Video Tools">
              </div>
              <p>Hot Video Tools</p>
            </a>
          </div>
        </div>
      </div>
    </div>
    <div class="light-left">
      <picture>
        <img class="lazyload"  src="./images/banner/snowflake-left.png"
          alt="light left">
      </picture>
    </div>
    <div class="light-right">
      <picture>
        <img class="lazyload"  src="./images/banner/snowflake-right.png"
          alt="light right">
      </picture>
    </div>
  </div>
  <!-- Special Banner END -->

  <!-- Main Content BEGIN -->
  <div class="main-content">

    <!-- sprd-1 BEDIN -->
    <div class="sprd-1" id="sprd-1">
      <div class="container">
        <h2>Get <span>Free</span> Xmas Gifts Every Day</h2>
        <div class="row">
          <div class="col-lg-5 col-md-6">
            <div class="award" id="award">
              <img width="435" height="434" class="table lazyload" width="" src="./images/module1/turntable.png"
                 alt="table">
              <img width="393" height="393" class="prize lazyload" src="./images/module1/award.png"
                 alt="prize">
              <img width="134" height="179" class="pointer lazyload" src="./images/module1/GO.png"
                 alt="pointer">
            </div>
          </div>
          <div class="prd-text col-lg-7 col-md-6">
            <h3>Play Lucky Draw with <span>100% Win Rate</span>,<br> Get <span>$100 Starbucks Voucher</span> and More
              Gifts</h3>
            <div class="toggle" id="toggle">
              <div class="row">
                <div id="participate" class="col-lg-6 col-md-6 col-sm-6 col-xs-6 participate active">How to Participate:
                </div>
                <div id="rules" class="col-lg-6 col-md-6 col-sm-6 col-xs-6 rules">Rules:</div>
              </div>
              <span class="sliding-block"></span>
            </div>
            <ul class="participate-ul">
              <li class="ball icon-offset">Click "Go" to spin the wheel;</li>
              <li class="tree icon-offset">2 chances to play per day;</li>
              <li class="bell">Participation Time: Dec.16 - Jan.08, 2021</li>
            </ul>
            <ul class="rules-ul">
              <li class="ball icon-offset">A combination of discounts is allowed;</li>
              <li class="tree">The coupon applies to storewide Joyoshare products;</li>
              <li class="bell">The coupon code is only available during the event;</li>
              <li class="gift">Submit email to get free license info.</li>
            </ul>
          </div>
        </div>
      </div>
    </div>
    <!-- sprd-1 END -->

    <!-- sprd-2 BEGIN -->
    <div class="sprd-2" id="sprd-2">
      <div class="container">
        <h2>Super Bundle Sale & New Product Giveaway</h2>
        <div class="row top">
          <div class="img col-lg-4 col-md-5">
            <picture>
              <img width="353" height="290" class="lazyload" 
                src="./images/module2-1/prd.png" alt="Christmas  Only! 5-in-1 Bundle">
            </picture>
          </div>
          <div class="prd-text col-lg-8 col-md-7">
            <div class="prd-title">
              <h3 class="shadow">Christmas Only! 5-in-1 Bundle</h3>
              <h3 class="real-title">Christmas Only! 5-in-1 Bundle</h3>
            </div>
            <p>This super multimedia bundle contains <a href="../../video-cutter-win/" target="_blank">Media Cutter</a>,
              <a href="../../video-joiner/" target="_blank">Video Joiner</a>, <a href="../../screen-recorder-for-win/"
                target="_blank">Screen Recorder</a>, <a href="../../audio-recorder/" target="_blank">Audio Recorder</a>
              and <a href="../../video-converter/" target="_blank">Video Converter</a> all in one. Get it now and save
              big!</p>
            <div class="tag clearfix">
              <p>Lifetime Plan</p>
              <div class="price">
                <span class="price-now">$59.95</span>
                <span class="price-before">$229.75</span>
              </div>
            </div>
            <div class="buy">
              <a class="mac" href="https://joyoshare.onfastspring.com/5-in-1-media-bundle-mac-holiday" rel="nofollow"
                target="_blank">
                <img width="202" height="68" class="lazyload" 
                  src="./images/module2-1/mac.png" alt="buy mac" ga-type="special" ga-ec="2020Xmas"
                  ga-ea="Buy-5-in-1-media-bundle-mac-holiday">
              </a>
              <a class="win" href="https://joyoshare.onfastspring.com/5-in-1-media-bundle-win-holiday" rel="nofollow"
                target="_blank">
                <img width="202" height="68" class="lazyload" 
                  src="./images/module2-1/win.png" alt="buy win" ga-type="special" ga-ec="2020Xmas"
                  ga-ea="Buy-5-in-1-media-bundle-win-holiday">
              </a>
            </div>
          </div>
        </div>
        <div class="or">OR</div>
        <div class="row bottom">
          <div class="prd-title">
            <h3 class="shadow">Get Free 5-in-1 Video Toolkit</h3>
            <h3 class="real-title">Get Free 5-in-1 Video Toolkit</h3>
          </div>
          <div class="row">
            <div class="prd-video col-lg-5 col-md-6 clearfix">
              <div class="video youtube-iframe-lazyload" data-video="pGsVghGaZeM" data-width="100%" data-height="100%">
                <div class="gift"></div>
              </div>
            </div>
            <div class="prd-text col-lg-7 col-md-6">
              <div class="prd-name">
                <div class="prd-img">
                  <img width="70" height="70" class="lazyload" 
                    src="./images/module2-2/vidkit.png" alt="vidikit">
                </div>
                <div class="prd-info">
                  <p class="">Joyoshare VidiKit</p>
                  <p>$0.00<img class="lazyload" width="62" height="35" 
                      src="./images/module2-2/new.png" alt="new icon"></p>
                </div>
              </div>
              <div class="prd-desc">
                <p class="title">Don't Miss:</p>
                <p>Joyoshare VidiKit, a <span>one-stop video toolkit</span> that combines all product functions in the
                  5-in-1 bundle is coming soon!</p>
              </div>
              <p class="tips">Now share this event and you'll get a <span>1-month free license</span> of this super
                toolkit!</p>
              <div class="share">
                <div class="share-div">
                  <a onclick='shareTwitter("https://www.joyoshare.com/special/xmas-sales/", "Play lucky draw to win a $100 Starbucks voucher, free license, coupon, and more gifts in Joyoshare 2020 Xmas Special Offer. Time&apos;s limited! Join it from now to Jan.08, 2021.");'
                    href="javascript:void(0)">
                    <img width="120" height="38" class="lazyload" 
                      src="./images/module2-2/twitter.png" ga-type="special" ga-ec="2020Xmas" ga-ea="share-twitter"
                      alt="share with twitter">
                  </a>
                  <a onclick='shareFacebook("https://www.joyoshare.com/special/xmas-sales/", "Play lucky draw to win a $100 Starbucks voucher, free license, coupon, and more gifts in Joyoshare 2020 Xmas Special Offer. Time&apos;s limited! Join it from now to Jan.08, 2021.");'
                    href="javascript:void(0)">
                    <img width="120" height="38" class="lazyload" 
                      src="./images/module2-2/facebook.png" ga-type="special" ga-ec="2020Xmas"
                      ga-ea="share-facebook" alt="share with facebook">
                  </a>
                  <a onclick='sharePinterest("https://www.joyoshare.com/special/xmas-sales/?utm_source=Pinterest&amp;utm_medium=social&amp;utm_campaign=joyoshare_20220_xmas&amp;utm_content=share","Play lucky draw to win a $100 Starbucks voucher, free license, coupon, and more gifts in Joyoshare 2020 Xmas Special Offer. Time&apos;s limited! Join it from now to Jan.08, 2021.", "https://www.joyoshare.com/special/xmas-sales/images/share.jpg");'
                    href="javascript:void(0)">
                    <img width="122" height="39" class="lazyload" 
                      src="./images/module2-2/P.png" ga-type="special" ga-ec="2020Xmas" ga-ea="share-pinterest"
                      alt="share with pinterest">
                  </a>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- sprd-2 END -->

    <!-- sprd-3 BEGIN -->
    <div class="sprd-3" id="sprd-3">
      <div class="container">
        <h2>Star Video Tools - 40% Off</h2>
        <div class="row">
          <div class="col-lg-4 col-md-6 col-sm-6 clearfix">
            <div class="content left">
              <picture>
                <img class="lazyload" width="190" height="193" 
                  src="./images/module3/Media-Cutter.png" alt="Media Cutter">
              </picture>
              <h3><a href="../../video-cutter-win/">Media Cutter</a></h3>
              <p>Cut large videos - Fast and Losslessly.</p>
              <div class="price">
                <span class="price-before">$39.95</span>
                <span class="price-now">$23.95</span>
              </div>
              <div class="buy">
                <a class="mac" href="https://joyoshare.onfastspring.com/mediacutmacholiday" rel="nofollow"
                  target="_blank">
                  <img width="202" height="68" class="lazyload" 
                    src="./images/module2-1/mac.png" alt="buy mac" ga-type="special" ga-ec="2020Xmas"
                    ga-ea="Buy-Media-Cutter-Mac">
                </a>
                <a class="win" href="https://joyoshare.onfastspring.com/mediacutwinholiday" rel="nofollow"
                  target="_blank">
                  <img width="202" height="68" class="lazyload" 
                    src="./images/module2-1/win.png" alt="buy win" ga-type="special" ga-ec="2020Xmas"
                    ga-ea="Buy-Media-Cutter-Win">
                </a>
              </div>
            </div>
          </div>
          <div class="col-lg-4 col-md-6 col-sm-6 clearfix">
            <div class="content middle">
              <picture>
                <img height="174" height="195" class="lazyload" 
                  src="./images/module3/Screen-Recorder.png" alt="Screen-Recorder">
              </picture>
              <h3><a href="../../screen-recorder-for-win/">Screen Recorder</a></h3>
              <p>Record desktop activities - No Time Limit.</p>
              <div class="price">
                <span class="price-before">$39.95</span>
                <span class="price-now">$23.95</span>
              </div>
              <div class="buy">
                <a class="mac" href="https://joyoshare.onfastspring.com/screenrecordmacholiday" rel="nofollow"
                  target="_blank">
                  <img width="202" height="68" class="lazyload" 
                    src="./images/module2-1/mac.png" alt="buy mac" ga-type="special" ga-ec="2020Xmas"
                    ga-ea="Buy-Screen-Recorder-Mac">
                </a>
                <a class="win" href="https://joyoshare.onfastspring.com/screenrecordwinholiday" rel="nofollow"
                  target="_blank">
                  <img width="202" height="68" class="lazyload" 
                    src="./images/module2-1/win.png" alt="buy win" ga-type="special" ga-ec="2020Xmas"
                    ga-ea="Buy-Screen-Recorder-Win">
                </a>
              </div>
            </div>
          </div>
          <div class="col-lg-4 col-md-6 col-sm-6 clearfix">
            <div class="content right">
              <picture>
                <img width="179" height="193" class="lazyload" 
                  src="./images/module3/Video-Joiner.png" alt="Media Cutter">
              </picture>
              <h3><a href="../../video-joiner/">Video Joiner</a></h3>
              <p style="padding: 0 20px;">Merge videos - 1:1 Original Quality.</p>
              <div class="price">
                <span class="price-before">$39.95</span>
                <span class="price-now">$23.95</span>
              </div>
              <div class="buy">
                <a class="mac" href="https://joyoshare.onfastspring.com/videojoinermacholiday" rel="nofollow"
                  target="_blank">
                  <img width="202" height="68" class="lazyload" 
                    src="./images/module2-1/mac.png" alt="buy mac" ga-type="special" ga-ec="2020Xmas"
                    ga-ea="Buy-Video-Joiner-Mac">
                </a>
                <a class="win" href="https://joyoshare.onfastspring.com/videojoinerwinholiday" rel="nofollow"
                  target="_blank">
                  <img width="202" height="68" class="lazyload" 
                    src="./images/module2-1/win.png" alt="buy win" ga-type="special" ga-ec="2020Xmas"
                    ga-ea="Buy-Video-Joiner-Win">
                </a>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- sprd-3 END -->
  </div>
  <!-- Main Content END -->

  <div class="layer" id="layer">
    <div class="content">

      <!-- 分享之后的弹出层 -->
      <div class="share-email-div" id="share-email-div">
        <div class="choose-version" id="share-choose-version">
          <p>Choose the right version you want:</p>
          <div class="choose-content">
            <div class="choose-win active" data-pid="3000013300">
              <img width="14" height="14" class="lazyload check" 
                src="./images/email/check.png" alt="check">
              <img width="14" height="14" class="lazyload checked" 
                src="./images/email/checked.png" alt="checked">
              Windows
            </div>
            <div class="choose-mac" data-pid="3000013301">
              <img width="14" height="14" class="lazyload check" 
                src="./images/email/check.png" alt="check">
              <img width="14" height="14" class="lazyload checked" 
                src="./images/email/checked.png" alt="checked">
              Mac
            </div>
          </div>
        </div>
        <form action="#" onsubmit="javascript:return false" id="share-email-form">
          <div class="verification">
            <input type="text" name="verification" placeholder="Enter verification code">
            <div class="verification-img">
              <a href="javascript:void(0)" id="verification-box" title="click to change the verification code">
                <!-- <img class="lazyload" 
                  src="https://www.joyoshare.com/api/share/verify" alt="verification code"> -->
              </a>
            </div>
          </div>
          <div class="email-input">
            <input type="text" name="email" placeholder="Enter email address">
            <button type="submit">SUBMIT</button>
          </div>
        </form>
        <!-- 提交之后的提示信息 -->
        <p class="tips">Submitted successfully! We'll send a one-month free single license to your mailbox within 10
          working days after VidiKit is released.</p>
      </div>

      <!-- 中奖 优惠券 弹出层 -->
      <div class="award-coupon coupon-off-5">
        <div class="coupon-content">
          <input type="text" id="award-coupon-input" name="coupon" readonly value="ABCDEFG">
          <button onclick="copy()">COPY</button>
        </div>
      </div>

      <!-- 中奖 产品 recorder 弹出层 -->
      <div class="award-prd prd-recorder">
        <div class="prd-img">
          <img width="119" height="153" class="lazyload" 
            src="./images/Audio-Recorder.png" alt="Audio Recorder">
        </div>
        <div class="prd-text">
          <p>Congratulations! You win Joyoshare Audio Recorder 6-month free single license. Please choose a compatible
            version below and enter a valid email to get it.</p>
          <div class="choose-version" id="recorder-choose-version">
            <div class="choose-win active" data-pid="3000010500">
              <img width="14" height="14" class="check" src="./images/email/check.png" alt="check">
              <img width="14" height="14" class="checked" src="./images/email/checked.png" alt="checked">
              Windows
            </div>
            <div class="choose-mac" data-pid="3000010501">
              <img width="14" height="14" class="check" src="./images/email/check.png" alt="check">
              <img width="14" height="14" class="checked" src="./images/email/checked.png" alt="checked">
              Mac
            </div>
          </div>
          <form action="#" onsubmit="return false" id="award-recorder-form">
            <div class="email-input">
              <input type="text" name="email" placeholder="Enter email address">
              <button type="submit">SUBMIT</button>
            </div>
          </form>
        </div>
        <!-- 提交邮箱之后的提示信息 -->
        <p class="tips">Submitted successfully! The registration info has been sent to your email. Please check it.</p>
      </div>

      <!-- 中奖 产品 converter 弹出层 -->
      <div class="award-prd prd-converter">
        <div class="prd-img">
          <img width="110" height="141" class="lazyload" 
            src="./images/Video-Converter.png" alt="Video-Converter">
        </div>
        <div class="prd-text">
          <p>Congratulations! You win Joyoshare Video Converter 6-month free single license. Please choose a compatible
            version below and enter a valid email to get it.</p>
          <div class="choose-version" id="converter-choose-version">
            <div class="choose-win active" data-pid="3000010000">
              <img width="14" height="14" class="check" src="./images/email/check.png" alt="check">
              <img width="14" height="14" class="checked" src="./images/email/checked.png" alt="checked">
              Windows
            </div>
            <div class="choose-mac" data-pid="3000010001">
              <img width="14" height="14" class="check" src="./images/email/check.png" alt="check">
              <img width="14" height="14" class="checked" src="./images/email/checked.png" alt="checked">
              Mac
            </div>
          </div>
          <form action="#" onsubmit="return false" id="award-converter-form">
            <div class="email-input">
              <input type="text" name="email" placeholder="Enter email address">
              <button type="submit">SUBMIT</button>
            </div>
          </form>
        </div>
        <!-- 提交邮箱之后的提示信息 -->
        <p class="tips">Submitted successfully! The registration info has been sent to your email. Please check it.</p>
      </div>

      <div class="award-failed">
        <img width="55" height="55" class="lazyload"  src="./images/shangxin.png"
          alt="failed">
        <p>Your chances have run out today. Come back tomorrow and try it again.</p>
      </div>

      <div class="submit-success">
        <p class="tips">Submitted successfully! The registration info has been sent to your email. Please check it.</p>
      </div>

      <div class="decoration"></div>
      <div class="close" id="layer-close"></div>
    </div>
  </div>
  <script type="text/javascript">
    // smooth scroll
    var forEach = function (array, callback, scope) {
      for (var i = 0; i < array.length; i++) {
        callback.call(scope, i, array[i]);
      }
    };
    var anchorLinks = document.querySelectorAll("a[href^='#']");
    forEach(anchorLinks, function (index, element) {
      var target = document.getElementById(element.getAttribute("href").substring(1));
      element.addEventListener("click", function (el) {
        if (target) {
          el.preventDefault();
          //window.scrollTo(0, target.offsetTop);
          var speed = target.offsetTop / 300;
          var diretion = target.offsetTop > document.documentElement.scrollTop ? 'bottom' : 'top';
          var timer = setInterval(function () {
            // 当前位置
            var scrollTop = document.documentElement.scrollTop;
            speed += 2;
            switch (diretion) {
              case 'top':
                if (scrollTop <= target.offsetTop) {
                  document.documentElement.scrollTop = target.offsetTop;
                  clearInterval(timer);
                } else {
                  document.documentElement.scrollTop -= speed;
                }
                break;
              case 'bottom':
                if (scrollTop >= target.offsetTop) {
                  document.documentElement.scrollTop = target.offsetTop;
                  clearInterval(timer);
                } else {
                  document.documentElement.scrollTop += speed;
                }
                break;
            }
          }, 16);
        }
      })
    });

    var award = document.getElementById("award");
    function resize() {
      if (window.innerWidth < 768) {
        award.style.height = award.offsetWidth + 'px';
      } else {
        award.setAttribute('style', '');
      }
    }
    window.addEventListener('resize', resize, false)
    resize();
  </script>

  <!-- animate.js -->
  <script>
    HTMLElement.prototype.animate = function (targetJSON, duration, callback) {
      var _this = this;

      function fetchComputedStyle(dom, property) {
        // 正则替换大写字母， 例如 marginLeft -> margin-left
        if (window.getComputedStyle) {
          property = property.replace(/[A-Z]/g, function (word) {
            return "-" + word.toLowerCase();
          });
          return window.getComputedStyle(dom)[property];
        } else {
          //ie浏览器  margin-left -> marginLeft
          property = property.replace(/\-([a-z])/g, function (match, checked) {
            return checked.toUpperCase();
          });
          return dom.currentStyle[property];
        }
      }

      var interval = 16;
      // 用于保存最终目标值
      var semophorJSON = {};
      for (var prop in targetJSON) {
        semophorJSON[prop] = parseFloat(fetchComputedStyle(_this, prop));
      }
      var maxCount = duration / interval;
      var stepJSON = {};
      for (var prop in targetJSON) {
        targetJSON[prop] = parseFloat(targetJSON[prop]);
        stepJSON[prop] = (targetJSON[prop] - semophorJSON[prop]) / maxCount;
      }
      var count = 0;
      var t1 = new Date();
      var timer = setInterval(function () {
        for (var prop in semophorJSON) {
          semophorJSON[prop] += stepJSON[prop];
          if (prop != "opacity") {
            _this.style[prop] = semophorJSON[prop] + "px";
          } else {
            _this.style[prop] = semophorJSON[prop];
            _this.style.filter = "alpha(opacity = " + (semophorJSON[prop] * 100) + ")";
          }

        }
        count++;
        if (count >= maxCount) {
          for (var prop in targetJSON) {
            if (prop != "opacity") {
              _this.style[prop] = targetJSON[prop] + "px";
            } else {
              _this.style[prop] = targetJSON[prop];
              _this.style.filter = "alpha(opacity = " + (targetJSON[prop] * 100) + ")";
            }

          }
          clearInterval(timer);
          callback && callback();
        }
      }, interval);
    }

    HTMLElement.prototype.fadeIn = function (duration, callback) {
      var _this = this;
      var counter = 0;
      var timer = null;
      // 每一次定时器执行元素的增幅
      var amplification = 0.03;
      var interval = duration / (1 / amplification);

      callback = callback || 'no a function';

      this.style.display = 'block';
      this.style.opacity = 0;

      timer = setInterval(function () {
        counter += amplification;
        _this.style.opacity = counter;
        if (counter > 1) {
          _this.style.opacity = 1;
          clearInterval(timer);
          if (typeof callback === 'function') {
            callback();
          }
        }
      }, interval);
    }

    HTMLElement.prototype.fadeOut = function (duration, callback) {
      var _this = this;
      var counter = 0;
      var timer = null;
      // 每一次定时器执行元素的增幅
      var amplification = 0.03;
      var interval = duration / (1 / amplification);

      function getOpacity(dom) {
        var opacity = '';
        if (window.getComputedStyle(dom)) {
          opacity = window.getComputedStyle(dom)['opacity'];
        } else if (dom.currentStyle) {
          opacity = dom.currentStyle['opacity'];
        } else {
          opacity = 1;
        }
        return opacity;
      }

      callback = callback || 'not a function';
      counter = getOpacity(this);

      timer = setInterval(function () {
        counter -= amplification;
        _this.style.opacity = counter;
        if (counter < 0) {
          clearInterval(timer);
          _this.style.opacity = 0;
          _this.style.display = 'none';
          if (typeof callback === 'function') {
            callback();
          }
        }
      }, interval);

    }
  </script>

  <script>
    // 规则切换
    var pos = 'p';
    var toggle = document.getElementById('toggle');
    var participate = document.getElementById('participate');
    var rules = document.getElementById('rules');
    var toggle_span = document.getElementsByClassName('sliding-block')[0];
    var participate_ul = document.getElementsByClassName('participate-ul')[0];
    var rules_ul = document.getElementsByClassName('rules-ul')[0];
    var rules_flag = true;
    participate.addEventListener('click', function () {
      if (!rules_flag) {
        return;
      }
      if (pos === 'r') {
        rules_flag = false;
        toggle_span.style.left = '0';
        rules.classList.remove('active');
        participate.classList.add('active');

        rules_ul.fadeOut(100, function () {
          participate_ul.fadeIn(100, function () {
            rules_flag = true;
          });
          pos = 'p';
        })
      }
    })
    rules.addEventListener('click', function () {
      if (!rules_flag) {
        return;
      }
      if (pos === 'p') {
        rules_flag = false;
        toggle_span.style.left = '50%';
        rules.classList.add('active');
        participate.classList.remove('active');

        participate_ul.fadeOut(100, function () {
          rules_ul.fadeIn(100, function () {
            rules_flag = true;
          });
          pos = 'r';
        })
      }
    }, false)

    // 弹出层和弹出层中的各个元素
    var layer = {
      el: document.getElementById('layer'),
      share_email_div: document.getElementById('layer').getElementsByClassName('share-email-div')[0],
      award_coupon: document.getElementById('layer').getElementsByClassName('award-coupon')[0],
      award_prd_recorder: document.getElementById('layer').getElementsByClassName('prd-recorder')[0],
      award_prd_converter: document.getElementById('layer').getElementsByClassName('prd-converter')[0],
      award_failed: document.getElementById('layer').getElementsByClassName('award-failed')[0],
      submit_success: document.getElementById('layer').getElementsByClassName('submit-success')[0],
      close: function () {
        this.award_prd_recorder.getElementsByClassName('prd-img')[0].style.display = 'block';
        this.award_prd_recorder.getElementsByClassName('prd-text')[0].style.display = 'block';
        this.award_prd_recorder.getElementsByClassName('tips')[0].style.display = 'none';

        this.award_prd_converter.getElementsByClassName('prd-img')[0].style.display = 'block';
        this.award_prd_converter.getElementsByClassName('prd-text')[0].style.display = 'block';
        this.award_prd_converter.getElementsByClassName('tips')[0].style.display = 'none';

        this.share_email_div.getElementsByClassName('choose-version')[0].style.display = 'flex';
        this.share_email_div.querySelector('form').style.display = 'block';
        this.share_email_div.getElementsByClassName('tips')[0].style.display = 'none';

        this.el.getElementsByClassName('content')[0].style.transform = '';
        for (var prop in this) {
          if (typeof this[prop] !== 'function') {
            this[prop].style.display = 'none';
          }
        }
      },
      open: function (name) {
        this.close();
        this[name].style.display = 'block';
        this.el.getElementsByClassName('content')[0].classList.add('popup');
        layer.award_failed.getElementsByTagName('p')[0].innerText = 'Your chances have run out today. Come back tomorrow and try it again.';
        this.el.fadeIn(250);
      }
    }

    // 点击复制
    function copy() {
      var input = document.getElementById('award-coupon-input');
      if (input.value) {
        input.select();
        document.execCommand('copy');
        window.alert('Copied to clipboard.')
      }
    }

    // layer 层 关闭
    document.getElementById('layer-close').onclick = function () {
      layer.el.fadeOut(200, function () {
        layer.close();
      });
      layer.el.getElementsByClassName('content')[0].classList.remove('popup');
      layer.el.getElementsByClassName('content')[0].style.transform = 'scale(0)';
    }

    // 版本选择
    // 分享之后选择版本的pid
    var share_version = '';
    // 抽奖抽中 converter 产品之后选择的pid
    var award_converter_version = '';
    // 抽奖抽中 recorder 产品之后选择的pid
    var award_recorder_version = '';

    function version(prop) {
      var el = document.getElementById(prop.el.substring(1));
      var choose_win = el.getElementsByClassName('choose-win')[0];
      var choose_mac = el.getElementsByClassName('choose-mac')[0];

      choose_win.setAttribute('data-pid', prop.win_pid);
      choose_mac.setAttribute('data-pid', prop.mac_pid);
      window[prop.target] = prop.default_pid;

      choose_win.onclick = function () {
        if (this.classList.contains('active')) {
          return;
        }
        this.classList.add('active');
        choose_mac.classList.remove('active');
        window[prop.target] = prop.win_pid;
      }

      choose_mac.onclick = function () {
        if (this.classList.contains('active')) {
          return;
        }
        this.classList.add('active');
        choose_win.classList.remove('active');
        window[prop.target] = prop.mac_pid;
      }
    }

    version({
      el: '#converter-choose-version',
      win_pid: '3000010000',
      mac_pid: '3000010001',
      default_pid: '3000010000',
      target: 'award_converter_version'
    });

    version({
      el: '#recorder-choose-version',
      win_pid: '3000010500',
      mac_pid: '3000010501',
      default_pid: '3000010500',
      target: 'award_recorder_version'
    })

    version({
      el: '#share-choose-version',
      win_pid: '3000013300',
      mac_pid: '3000013301',
      default_pid: '3000013300',
      target: 'share_version'
    })

    // 记录中奖得 id 值
    var award_id = ''
    // 更换验证码
    var verificationBox = document.getElementById('verification-box');
    function verificationCodeChange() {
      verificationBox.innerHTML = '';
      var img = new Image();
      img.src = 'https://www.joyoshare.com/api/share/verify';
      verificationBox.appendChild(img);
    }
    verificationBox.onclick = verificationCodeChange;


    // 中奖 converter 提交
    var converter_form = layer.award_prd_converter.getElementsByTagName('form')[0];
    converter_form.onsubmit = function () {
      var email = converter_form.querySelector('input[name="email"]').value;
      var btn = converter_form.querySelector('button');
      if (email === '') {
        window.alert('Please fill the email!');
        return false;
      }

      if (btn.classList.contains('loading')) {
        window.alert('Please wait while the request is being processed!');
        return false;
      }

      btn.classList.add('loading');
      btn.innerHTML = 'Loading';

      joweb.Request.ajax({
        method: 'post',
        url: 'https://www.joyoshare.com/api/share/coupon',
        data: {
          email: email,
          name: 'joyoshare-xmas-2020-lucky',
          ga_cid: getMyCookie('_ga'),
          code: award_converter_version,
          id: 5,
          share_type: 'facebook'
        },
        success: function (data) {
          data = JSON.parse(data);
          btn.classList.remove('loading');
          btn.innerHTML = 'SUBMIT';
          if (data.status) {
            var t = layer.award_prd_converter;
            t.getElementsByClassName('prd-img')[0].style.display = 'none';
            t.getElementsByClassName('prd-text')[0].style.display = 'none';
            t.getElementsByClassName('tips')[0].style.display = 'block';
          } else {
            window.alert(data.message);
          }
        },
        error: function (err) {
          btn.classList.remove('loading');
          btn.innerHTML = 'SUBMIT';
          window.alert('Some errors occurred. Please try again later.');
        }
      })

      return false;
    }

    // 中奖 recorder 提交
    var recorder_form = layer.award_prd_recorder.getElementsByTagName('form')[0];
    recorder_form.onsubmit = function () {
      var email = recorder_form.querySelector('input[name="email"]').value;
      var btn = recorder_form.querySelector('button');
      if (email === '') {
        window.alert('Please fill the email!');
        return false;
      }

      if (btn.classList.contains('loading')) {
        window.alert('Please wait while the request is being processed!');
        return false;
      }

      btn.classList.add('loading');
      btn.innerHTML = 'Loading';

      joweb.Request.ajax({
        method: 'post',
        url: 'https://www.joyoshare.com/api/share/coupon',
        data: {
          email: email,
          name: 'joyoshare-xmas-2020-lucky',
          ga_cid: getMyCookie('_ga'),
          code: award_converter_version,
          id: award_id,
          share_type: 'facebook'
        },
        success: function (data) {
          data = JSON.parse(data);
          btn.classList.remove('loading');
          btn.innerHTML = 'SUBMIT';
          if (data.status) {
            var t = layer.award_prd_recorder;
            t.getElementsByClassName('prd-img')[0].style.display = 'none';
            t.getElementsByClassName('prd-text')[0].style.display = 'none';
            t.getElementsByClassName('tips')[0].style.display = 'block';
          } else {
            window.alert(data.message);
          }
        },
        error: function (err) {
          btn.classList.remove('loading');
          btn.innerHTML = 'SUBMIT';
          window.alert('Some errors occurred. Please try again later.');
        }
      })

      return false;
    }

    // 分享之后得 email 提交
    var share_form = layer.share_email_div.getElementsByTagName('form')[0];
    share_form.onsubmit = function () {
      var btn = share_form.querySelector('button');
      var email = share_form.querySelector('input[name="email"]').value;
      var verify_code = share_form.querySelector('input[name="verification"]').value;

      if (btn.classList.contains('loading')) {
        window.alert('Please wait while the request is being processed!');
        return false;
      }

      btn.innerHTML = 'Loading';
      btn.classList.add('loading');

      if (!email) {
        window.alert('Please fill the email.')
        return false;
      }

      if (!verify_code) {
        window.alert('Please fill the verification code.');
        return false;
      }

      joweb.Request.ajax({
        method: 'post',
        url: 'https://www.joyoshare.com/api/share/coupon',
        data: {
          email: email,
          name: 'joyoshare-xmas-2020-vidiKit',
          ga_cid: getMyCookie('_ga'),
          code: share_version,
          verify_code: verify_code,
          share_type: share_type
        },
        success: function (data) {
          data = JSON.parse(data);
          btn.classList.remove('loading');
          btn.innerHTML = 'SUBMIT';
          if (data.status) {
            var t = layer.share_email_div;
            t.getElementsByClassName('choose-version')[0].style.display = 'none';
            t.querySelector('form').style.display = 'none';
            t.getElementsByClassName('tips')[0].style.display = 'block';
          } else {
            window.alert(data.message);
            verificationCodeChange();
          }
        },
        error: function (err) {
          window.alert('Some errors occurred. Please try again later.');
          btn.classList.remove('loading');
          btn.innerHTML = 'SUBMIT';
          verificationCodeChange();
        }
      })

      return false;
    }

    // 抽奖
    // 写 cookie
    function setCookie(name, value, min) {
      var exp = new Date();
      exp.setTime(exp.getTime() + min * 60 * 1000);
      document.cookie = name + "=" + escape(value) + ";expires=" + exp.toGMTString();
    }
    // 获取 cookie 
    function getCookie(name) {
      var arr, reg = new RegExp("(^| )" + name + "=([^;]*)(;|$)");

      if (arr = document.cookie.match(reg))
        return unescape(arr[2]);
      else
        return null;
    }
    // 删除 cookie
    function delCookie(name) {
      var exp = new Date();
      exp.setTime(exp.getTime() - 1);
      var cval = getCookie(name);
      if (cval != null)
        document.cookie = name + "=" + cval + ";expires=" + exp.toGMTString();
    }

    // 获取今天还剩下多少分钟
    function getLeftMin() {
      var date = new Date();
      var hours = date.getHours();
      var minutes = date.getMinutes();
      return (minutes === 0 ? (24 - hours) * 60 : (24 - hours - 1) * 60 + (60 - minutes));
    }

    // 初始化抽奖次数
    var lottery_number = 0;
    if (getCookie('jw-lottery')) {
      lottery_number = Number(getCookie('jw-lottery'));
    } else {
      setCookie('jw-lottery', 2, getLeftMin());
      lottery_number = 2;
    }

    var award = document.getElementById('award');
    var table = award.getElementsByClassName('table')[0];
    var prize = award.getElementsByClassName('prize')[0];
    var pointer = award.getElementsByClassName('pointer')[0];
    var base_rotate = 4;  //至少转 base_rotate 圈

    prize.deg = 0;

    // 请求抽奖接口
    function getPrize(success, error) {
      if (pointer.getAttribute('data-post')) {
        window.alert('The request is being processed. Please wait!');
        return;
      }
      pointer.setAttribute('data-post', 'true');
      joweb.Request.ajax({
        method: 'get',
        url: 'https://www.joyoshare.com/api/special/lottery?name=joyoshare-xmas-2020-lucky',
        success: function (data) {
          data = JSON.parse(data);
          if (data.status) {
            success && success(data);
          } else {
            if (data.error) {
              layer.award_failed.getElementsByTagName('p')[0].innerText = data.error;
            }
            layer.open('award_failed');
          }
          pointer.setAttribute('data-post', '');
        },
        error: function (err) {
          error && error(err);
        }
      })
    }

    // 根据中奖的奖品确定最后位置
    function getStopPointer(result) {
      switch (result.type) {
        case 'coupon':
          if (result.title === '$5') {
            return 0;
          } else if (result.title === '$10') {
            return Math.floor(Math.random() * 90);
          } else if (result.title === '$20') {
            return 180 + Math.floor(Math.random() * 90)
          } else if (result.title === '5% OFF') {
            return 0;
          } else if (result.title === '10% OFF') {
            return 270;
          } else {

          }
          break;
        case 'code':
          return 270 + Math.floor(Math.random() * 90);
      }
    }

    // 根据中奖的情况打开对应得弹出层
    function openResult(result) {
      setTimeout(function () {
        switch (result.type) {
          case 'coupon':  // 优惠券
            if (result.title === '$5') {
              layer.award_coupon.className = 'award-coupon coupon-5';
            } else if (result.title === '$10') {
              layer.award_coupon.className = 'award-coupon coupon-10';
            } else if (result.title === '$20') {
              layer.award_coupon.className = 'award-coupon coupon-20';
            } else if (result.title === '5% OFF') {
              layer.award_coupon.className = 'award-coupon coupon-off-5';
            } else if (result.title === '10% OFF') {
              layer.award_coupon.className = 'award-coupon coupon-off-10';
            } else {

            }
            layer.award_coupon.querySelector('input[name="coupon"]').value = result.prize;
            layer.open('award_coupon');
            break;
          case 'code':
            if (result.title === 'Joyoshare Audio Recorder') {
              layer.open('award_prd_recorder');
            } else if (result.title === 'Joyoshare Video Converter') {
              layer.open('award_prd_converter');
            } else {

            }
            break;
          default:
            layer.open('award_failed');
        }
      }, 300)
    }

    pointer.addEventListener('click', function () {
      if (pointer.getAttribute('data-loading')) {
        return;
      }

      if (lottery_number <= 0) {
        layer.open('award_failed');
        return;
      }

      getPrize(function (data) {
        // 请求成功
        award_id = data.data.id;

        // 抽奖机会减少 1
        lottery_number--;
        setCookie('jw-lottery', lottery_number, getLeftMin());

        pointer.setAttribute('data-loading', true);
        pointer.classList.add('jump');

        setTimeout(function () {
          pointer.classList.remove('jump');
          // 随机生成转动圈数
          var a = Math.floor(Math.random() * 2) + base_rotate;
          var result = data.data;  // 抽奖的结果的数据
          var stopPointer = getStopPointer(result);
          var finalDeg = a * 360 + stopPointer;
          var rotate = 0;
          var speed = 8;
          var count = 0;
          var timer = setInterval(function () {
            rotate += speed;
            if (count % 2 === 0) {
              if (rotate < finalDeg / 3) {
                speed += 0.5;
              } else {
                if (speed > 4) {
                  speed = speed -= 0.3;
                }
              }
            }
            count++;
            if (rotate > finalDeg) {
              rotate = finalDeg;
              clearInterval(timer);
              pointer.setAttribute('data-loading', '');
              openResult(result);
            }
            prize.style.transform = 'translateX(-50%) translateY(-50%) ' + 'rotate(' + rotate + 'deg)';
          }, 16);
        }, 1100)

      }, function () {
        window.alert('Some errors occurred. Please try again later');
      })

    }, false)

    // 雪花效果
    var snowBox = document.getElementById('sonw');
    var total = 40;
    if (document.body.clientWidth && document.body.clientWidth < 550) {
      total = 15;
    }
    var snowCount = 0;
    var snowImg = [
      'url(./images/s-1.png)',
      'url(./images/s-2.png)',
    ]
    function snow() {
      timer1 = setInterval(function () {
        if (snowCount < total) {
          var snowDiv = document.createElement('div');
          var size = Math.random();        //雪的随机大小.
          snowDiv.num = 1;                      //
          snowDiv.direction = Math.random();               //雪的运动方向随机
          snowDiv.s = Math.random() * 3;                   //雪的随机运动速度
          snowDiv.style.width = size * 35 + 'px';
          snowDiv.style.height = size * 35 + 'px';
          snowDiv.style.opacity = Math.random();          //雪的随机透明度.
          snowDiv.opacity = snowDiv.style.opacity;
          snowDiv.style.backgroundImage = Math.random() > 0.5 ? snowImg[0] : snowImg[1];
          snowDiv.style.backgroundSize = '100% 100%';
          snowDiv.style.position = 'absolute';
          snowDiv.style.top = '-40px';
          snowDiv.style.zIndex = 1;
          snowDiv.style.left = Math.random() * (document.body.clientWidth - 100) + 'px';     //雪的随机出现位置.
          var time = setInterval(function () {
            snowDiv.style.top = snowDiv.offsetTop + 2 + 'px';                   //下坠
            snowDiv.style.transform = 'rotateZ(' + (snowDiv.num++) * 2 + 'deg)';                 //旋转
            if (snowDiv.offsetLeft >= (document.body.clientWidth) || snowDiv.offsetLeft < 0) {
              clearInterval(time);
              snowDiv.remove();
              snowCount--;
            } else {
              if (snowDiv.direction > 0.5) {                 //控制雪花运动的方向.
                snowDiv.style.left = (snowDiv.offsetLeft - snowDiv.s) + 'px';
              } else {
                snowDiv.style.left = snowDiv.offsetLeft + snowDiv.s + 'px';
              }
            }

            if ((snowDiv.offsetTop / snowBox.offsetHeight) > 0.5) {
              snowDiv.opacity -= 0.004;
              snowDiv.style.opacity = snowDiv.opacity;
            }

            if (snowDiv.offsetTop >= (snowBox.offsetHeight + 35)) {             // 掉落到下方指定位置清除雪花.
              clearInterval(time);
              snowDiv.remove();
              snowCount--;
            }
          }, 16)
          snowBox.append(snowDiv);
          snowCount++;
        }
      }, 100)
    }

    snow();
  </script>

  <script>
    window.fbAsyncInit = function () {
      FB.init({
        appId: '214744615865737',
        autoLogAppEvents: true,
        xfbml: true,
        version: 'v6.0'
      });
    };
  </script>

  <script type="text/javascript">
    var share_type = "facebook";
    var coupon = 'AUEUKKWE';

    function shareFacebook(url) {
      FB.ui({
        method: 'share',
        href: url
      }, function (response) {
        if (response && !response.error_message) {
          openEmail('facebook');
        } else {
          showError();
        }
      });
      /*FB.ui({
        method: 'share_open_graph',
        action_type: 'og.likes',
        action_properties: JSON.stringify({
        object: url,
        })
      }, function(response){
        showCoupon('facebook');
      });*/
    }
    /***********twitter**************/
    function shareTwitter(url, descr) {
      var w = 450;
      var h = 600;
      var left = Number((screen.width / 2) - (w / 2));
      var top = Number((screen.height / 2) - (h / 2));
      var ttsh = window.open("https://twitter.com/intent/tweet?url=" + encodeURIComponent(url) + "&text=" + encodeURIComponent(descr) + "", 'tweet', 'height=' + w + ',width=' + h + ',top=' + top + ',left=' + left + '');
      var timer = setInterval(function () {
        if (ttsh.closed) {
          clearInterval(timer);
          openEmail('twitter');
          // showCoupon('twitter');
        }
      }, 600);
    }
    /**********pinterest***********/
    function sharePinterest(url, desc, coverImage) {
      var w = 850;
      var h = 500;
      var left = Number((screen.width / 2) - (w / 2));
      var top = Number((screen.height / 2) - (h / 2));
      var share_url = "https://www.pinterest.com/pin/create/button/?url=" + encodeURIComponent(url) +
        "&media=" + encodeURIComponent(coverImage) +
        "&description=" + encodeURIComponent(desc);
      var ttsh = window.open(share_url, 'Pinterest', 'height=' + h + ',width=' + w + ',top=' + top + ',left=' + left + '');
      var timer = setInterval(function () {
        if (ttsh.closed) {
          clearInterval(timer);
          // showCoupon('pinterest');
          openEmail('pinterest');
        }
      }, 600);
    }

    function showCoupon(type) {
      share_type = type;
      document.getElementsByClassName('share-box')[0].getElementsByClassName('share-channel')[0].style.display = 'none';
      document.getElementsByClassName('share-coupon').innerText = coupon;
      document.getElementsByClassName('share-box')[0].getElementsByClassName('share-div')[0].style.display = 'block';
    }

    function openEmail(type) {
      share_type = type;
      verificationCodeChange();
      layer.close();
      layer.open('share_email_div');
    }

    function openEmail2(type) {
      share_type70 = type;
      document.getElementsByClassName('waiting-order-check')[0].fadeOut(200);
    }

    function showError(msg) {
      if (!msg) {
        msg = 'It seems sharing failed, please try again to get 50% off coupon code';
      }
      alert(msg);
      return false;
    }

    function getCoupon(coupon) {
      document.getElementsByClassName('share-div')[0].getElementsByClassName('share-coupon')[0].innerText = coupon;
    }

    //写cookies
    function setCookie(cname, cvalue, exdays) {
      var d = new Date();
      d.setTime(d.getTime() + (exdays * 24 * 60 * 60 * 1000));
      var expires = "expires=" + d.toGMTString();
      document.cookie = cname + "=" + cvalue + "; " + expires;
    }
    function getCookie(cname) {
      var name = cname + "=";
      var ca = document.cookie.split(';');
      for (var i = 0; i < ca.length; i++) {
        var c = ca[i].trim();
        if (c.indexOf(name) == 0) {
          return c.substring(name.length, c.length);
        }
      }
      return "";
    }

    function myBrowser() {
      var userAgent = navigator.userAgent; //取得浏览器的userAgent字符串
      var isOpera = userAgent.indexOf("Opera") > -1;
      if (isOpera) {
        return "Opera"
      }; //判断是否Opera浏览器
      if (userAgent.indexOf("Firefox") > -1) {
        return "FF";
      } //判断是否Firefox浏览器
      if (userAgent.indexOf("Chrome") > -1) {
        return "Chrome";
      }
      if (userAgent.indexOf("Safari") > -1) {
        return "Safari";
      } //判断是否Safari浏览器
      if (userAgent.indexOf("compatible") > -1 && userAgent.indexOf("MSIE") > -1 && !isOpera) {
        return "IE";
      }; //判断是否IE浏览器
    }

    function getMyCookie(cname) {
      var name = cname + "=";
      var ca = document.cookie.split(';');
      for (var i = 0; i < ca.length; i++) {
        var c = ca[i].trim();
        if (c.indexOf(name) == 0) return c.substring(name.length, c.length);
      }
      return "";
    }

    function charToUnicode(str) {
      var temp;
      var i = 0;
      var r = '';
      return r;
    }
    function unicodeToChar(str) {
      return eval("'" + str + "'");
    }

    // 表单的提交
    function commonLoaded() {
      var htmlObj = document.documentElement;
      htmlObj.setAttribute('data-useragent', myBrowser());
      htmlObj.setAttribute('data-platform', navigator.platform);
    }
    commonLoaded();

  </script>

  <script type="text/javascript">
    // youtube-iframe-lazyload.js
    var youtubeVideo = document.getElementsByClassName('youtube-iframe-lazyload');
    // 距离视频还有多长距离的时候加载 (一个浏览器可视距离的长度)
    var distance = document.documentElement.clientHeight ? document.documentElement.clientHeight / 2 : 200;

    function youtubeVideoLazyload() {
      if (youtubeVideo.length || youtubeVideo.length > 0) {
        var videos = [];
        for (var i = 0; i < youtubeVideo.length; i++) {
          videos.push(youtubeVideo[i]);
        }
        function makeVideo(dom) {
          youtubeEventListener();
          var iframe = document.createElement('iframe');
          dom.setAttribute('data-loaded', true);
          dom.style.background = 'none';
          iframe.height = dom.getAttribute('data-height') ? dom.getAttribute('data-height') : 315;
          iframe.width = dom.getAttribute('data-width') ? dom.getAttribute('data-width') : 560;
          iframe.src = 'https://www.youtube.com/embed/' + dom.getAttribute('data-video') + '?enablejsapi=1&rel=0';
          iframe.style.border = 'none';
          iframe.allow = 'autoplay; encrypted-media';
          iframe.allowFullscreen = true;
          iframe.id = 'gatk-youtube-video-' + dom.getAttribute('data-video');
          dom.appendChild(iframe);
        }
        var window_onscroll = window.onscroll;
        window.onscroll = function () {
          if (typeof window_onscroll === 'function') {
            window_onscroll();
          }
          // 当前滚动条的位置
          var h = document.documentElement.scrollTop;
          for (var i = 0; i < videos.length; i++) {
            if (h + distance > videos[i].getBoundingClientRect().top) {
              makeVideo(videos[i]);
              videos.splice(i, 1);
            }
          }
          if (videos.length === 0) {
            window.onscroll = window_onscroll;
          }
        }
        window.onscroll();
      }
    }

    /* youtube视频播放事件监控 BEGIN */
    function youtubeEventListener() {
      var frameId = 'youtube-iframe-api';
      if (youtubeVideo.length === 0) {
        return false;
      }
      if (document.getElementById(frameId)) {
        return false;
      }
      var tag = document.createElement('script');
      tag.id = frameId;
      tag.src = 'https://www.youtube.com/iframe_api';
      var firstScriptTag = document.getElementsByTagName('script')[0];
      firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);
    }
    function onYouTubeIframeAPIReady() {
      var iframeTags = document.getElementsByTagName('iframe');
      for (var i = 0; i < iframeTags.length; i++) {
        var ytID = iframeTags[i].id;
        if (ytID.indexOf('gatk-youtube-video') === 0) {
          new YT.Player(ytID, { events: { 'onStateChange': onPlayerStateChange } });
        }
      }
    }
    function gaEventTracking(playerStatus, title) {
      var statusText;
      if (playerStatus == -1) {
        statusText = 'unstarted';
      } else if (playerStatus == 0) {
        statusText = 'ended';
      } else if (playerStatus == 1) {
        statusText = 'playing';
      } else if (playerStatus == 2) {
        statusText = 'paused';
      } else if (playerStatus == 3) {
        statusText = 'buffering';
      } else if (playerStatus == 5) {
        statusText = 'video cued';
      } if (statusText) {
        ga('send', 'event', 'YoutubeVideo', statusText, title);
      }
    }
    function onPlayerStateChange(event) {
      console.log(event);
      gaEventTracking(event.data, event.target.getVideoData().title);
    }

    youtubeVideoLazyload();
  </script>

  <!-- Go to www.addthis.com/dashboard to customize your tools -->
  <div class="joweb-load-js" data-url="https://s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5948fa220a31d243"
    data-delay="15000"></div>
</body>

</html>